
import telebot
import time

# --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ---
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç BotFather
TOKEN = '8589711421:AAEaLcA64rLDgp0-emlN0n8Wl8FNWUiiW0o'
# Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
ADMIN_ID = 1066519428

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
bot = telebot.TeleBot(TOKEN)

def notify_order(order_info):
    """
    –§–æ—Ä–º–∏—Ä—É–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
    
    :param order_info: dict —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–ª—é—á–∞–º–∏:
        - name: –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
        - email: Email –∫–ª–∏–µ–Ω—Ç–∞
        - product: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        - quantity: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
        - price: –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
    """
    
    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    message_text = (
        "üèé **–ù–û–í–´–ô –ó–ê–ö–ê–ó KANJO STATIC**\n"
        "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n"
        "üë§ **–ö–õ–ò–ï–ù–¢:**\n"
        f"‚îó –ò–º—è: `{order_info.get('name', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}`\n"
        f"‚îó Email: `{order_info.get('email', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}`\n\n"
        "üì¶ **–î–ï–¢–ê–õ–ò –ó–ê–ö–ê–ó–ê:**\n"
        f"‚îó –¢–æ–≤–∞—Ä: *{order_info.get('product', 'N/A')}*\n"
        f"‚îó –ö–æ–ª-–≤–æ: {order_info.get('quantity', 1)} —à—Ç.\n"
        f"‚îó –¶–µ–Ω–∞: ${order_info.get('price', 0)}\n\n"
        "üí∞ **–ò–¢–û–ì–û –ö –û–ü–õ–ê–¢–ï:**\n"
        f"‚îó `${order_info.get('price', 0) * order_info.get('quantity', 1)}`\n\n"
        "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n"
        "üïí *–û–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ*"
    )

    try:
        # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        bot.send_message(ADMIN_ID, message_text, parse_mode='Markdown')
        print(f"[SUCCESS] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–∫–∞–∑–µ –¥–ª—è {order_info.get('name')} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω—É {ADMIN_ID}")
    except Exception as e:
        print(f"[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: {e}")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞
if __name__ == "__main__":
    print("–ë–æ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π KANJO STATIC –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ...")
    
    # –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞ —Å —Å–∞–π—Ç–∞
    sample_order = {
        'name': '–ê—Ä—Ç–µ–º –î–∞–Ω–∏–ª–∏–Ω',
        'email': 'artem.danilin99@gmail.com',
        'product': '–•–£–î–ò KANJO RACER',
        'quantity': 1,
        'price': 85
    }
    
    # –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    notify_order(sample_order)
    
    # –ë–æ—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç polling, –µ—Å–ª–∏ –æ–Ω —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, 
    # –Ω–æ –º—ã –º–æ–∂–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É, –µ—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ–∑–∂–µ.
    # bot.infinity_polling()
